<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QtWebApp: FileLogger Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">QtWebApp&#160;<span id="projectnumber">1.2.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classFileLogger.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">FileLogger Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="FileLogger" --><!-- doxytag: inherits="Logger" -->
<p><a class="el" href="classLogger.html" title="Decorates and writes log messages to the console, stderr.">Logger</a> that uses a text file for output.  
 <a href="classFileLogger.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="filelogger_8h_source.html">filelogger.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FileLogger:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classFileLogger.png" usemap="#FileLogger_map" alt=""/>
  <map id="FileLogger_map" name="FileLogger_map">
<area href="classLogger.html" title="Decorates and writes log messages to the console, stderr." alt="Logger" shape="rect" coords="0,0,73,24"/>
</map>
 </div></div>

<p><a href="classFileLogger-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileLogger.html#a7cc3a8036804d29ce4df0d431289e5b8">FileLogger</a> (QSettings *settings, const int refreshInterval=10000, QObject *parent=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a7cc3a8036804d29ce4df0d431289e5b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileLogger.html#ab08af44f2de3fe1b51158132f9a399dd">~FileLogger</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ab08af44f2de3fe1b51158132f9a399dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9258a5e72c22a6b14e25af8eae2092c1"></a><!-- doxytag: member="FileLogger::write" ref="a9258a5e72c22a6b14e25af8eae2092c1" args="(const LogMessage *logMessage)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileLogger.html#a9258a5e72c22a6b14e25af8eae2092c1">write</a> (const <a class="el" href="classLogMessage.html">LogMessage</a> *logMessage)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a message to the log file. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileLogger.html#a01eac5311649ce150df7bdf084925d05">timerEvent</a> (QTimerEvent *event)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for timer events.  <a href="#a01eac5311649ce150df7bdf084925d05"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classLogger.html" title="Decorates and writes log messages to the console, stderr.">Logger</a> that uses a text file for output. </p>
<p>Settings are read from a config file using a QSettings object. Config settings can be changed at runtime. They are copied to private fields in regular intervals for permance reason. </p>
<p>Example for the required configuration settings: <code></p>
<pre>
  disabled=false
  fileName=logs/QtWebApp.log
  maxSize=1000000
  maxBackups=2
  minLevel=0
  msgformat={timestamp} {typeNr} {type} thread={thread}: {msg}
  timestampFormat=dd.MM.yyyy hh:mm:ss.zzz
  bufferSize=0
  </pre><p></code></p>
<ul>
<li>fileName is the name of the log file, relative to the directory of the settings file. In case of windows, if the settings are in the registry, the path is relative to the current working directory.</li>
<li>maxSize is the maximum size of that file in bytes. The file will be backed up and replaced by a new file if it becomes larger than this limit. Please note that the actual file size may become a little bit larger than this limit. 0=unlimited.</li>
<li>maxBackups defines the number of backup files to keep. 0=unlimited.</li>
<li>minLevel defines the minimum level of message types to be written into the file.</li>
<li>msgFormat defines the decoration of log messages.</li>
<li>timestampFormat defines the format of timestamps.</li>
<li>buffersize defines the size of the backtrace buffer. 0=disabled. The buffer stores log messages of any level from the time before an error occurs. It can be used to provide detailed debug information when an error occurs, while keeping the logfile clean as long no error occurs. Using this buffer may reduce performance significantly.</li>
</ul>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classLogger.html#aeec74ca028bceb107a2337c5f6090432" title="Sets a thread-local variable that may be used to decorate log messages.">set()</a> describes how to <a class="el" href="classLogger.html#aeec74ca028bceb107a2337c5f6090432" title="Sets a thread-local variable that may be used to decorate log messages.">set</a> logger variables </dd>
<dd>
<a class="el" href="classLogMessage.html" title="Represents a single log message together with some data that are used to decorate the log message...">LogMessage</a> for a description of the message decoration. </dd>
<dd>
<a class="el" href="classLogger.html" title="Decorates and writes log messages to the console, stderr.">Logger</a> for a descrition of the backtrace buffer </dd></dl>

<p>Definition at line <a class="el" href="filelogger_8h_source.html#l00054">54</a> of file <a class="el" href="filelogger_8h_source.html">filelogger.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7cc3a8036804d29ce4df0d431289e5b8"></a><!-- doxytag: member="FileLogger::FileLogger" ref="a7cc3a8036804d29ce4df0d431289e5b8" args="(QSettings *settings, const int refreshInterval=10000, QObject *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileLogger::FileLogger </td>
          <td>(</td>
          <td class="paramtype">QSettings *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>refreshInterval</em> = <code>10000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>Configuration settings, usually stored in an INI file. Must not be 0. Settings are read from the current group, so the caller must have called settings-&gt;beginGroup(). Because the group must not change during runtime, it is recommended to provide a separate QSettings instance to the logger that is not used by other parts of the program. </td></tr>
    <tr><td class="paramname">refreshInterval</td><td>Interval of checking the config settings in msec, or 0=disabled </td></tr>
    <tr><td class="paramname">parent</td><td>Parent object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="filelogger_8cpp_source.html#l00053">53</a> of file <a class="el" href="filelogger_8cpp_source.html">filelogger.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab08af44f2de3fe1b51158132f9a399dd"></a><!-- doxytag: member="FileLogger::~FileLogger" ref="ab08af44f2de3fe1b51158132f9a399dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FileLogger::~FileLogger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>Closes the file. </p>

<p>Definition at line <a class="el" href="filelogger_8cpp_source.html#l00067">67</a> of file <a class="el" href="filelogger_8cpp_source.html">filelogger.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a01eac5311649ce150df7bdf084925d05"></a><!-- doxytag: member="FileLogger::timerEvent" ref="a01eac5311649ce150df7bdf084925d05" args="(QTimerEvent *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FileLogger::timerEvent </td>
          <td>(</td>
          <td class="paramtype">QTimerEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handler for timer events. </p>
<p>Refreshes config settings or synchronizes I/O buffer, depending on the event. This method is thread-safe. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>used to distinguish between the two timers. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="filelogger_8cpp_source.html#l00154">154</a> of file <a class="el" href="filelogger_8cpp_source.html">filelogger.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lib/bfLogging/src/<a class="el" href="filelogger_8h_source.html">filelogger.h</a></li>
<li>lib/bfLogging/src/<a class="el" href="filelogger_8cpp_source.html">filelogger.cpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classFileLogger.html">FileLogger</a>      </li>
      <li class="footer">Generated on Sun Aug 7 2011 23:44:02 for QtWebApp by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
